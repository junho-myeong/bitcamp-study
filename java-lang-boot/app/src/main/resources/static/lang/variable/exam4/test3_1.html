<!DOCTYPE html>
<html>
	<head>
	<meta charset="UTF-8">
	<title>변수 활용</title>
	</head>
	<body>
		<h1>배열 다루기</h1>
    <a href="/lang/variable/exam4/test3">서버에 요청하기</a>
		  <button id ='x-btn' type ='button'>배열 가져오기</button>
      <ul class = "content">
      </ul> 
      <script>
        var xBtn = document.querySelector('#x-btn'); //querySelector 가 아닐때는 # 을 안해도 된다.
        var contentEl = document.querySelector('.content');
        xBtn.addEventListener('click' , function() {
        	
        	// 현재 요청한 자원의 경로를 기준으로 상대 경로를 지정 하는것이 유지보수에 좋다. 그래서 앞에 lan/variable/eaxm4를 빼도 된다.
        	// => 상대경로일 경우 현재 경로를 자동으로 붙인다.
        	fetch('/lang/variable/exam4/test3')
        	// 서버에서 응답한 정보가 포장 되어서 넘어 온다 그걸 response에게 준다
        	  .then(function(response) {
        		  // 자바 스크립은 배열로 바꾸는 코드
        		  return response.json();
        		  })
        	  .then(function(names) {
        		  console.log(names)
        		  names.forEach(function(name) {
        			  var li = document.createElement('li');
        			  li.innerHTML = name;
        			  contentEl.appendChild(li);
        		  })
        		  })
        	/*
        	var result = fetch('/lang/variable/exam4/test3');
        	var result2 = result.then(function(response) {
        		return response.json();
        	})
        	result2.then(function(jsonData) {
        		console.log(jsonData)
        	})*/
        })
        
        
        
        
        
        
      </script>
	</body>
</html>