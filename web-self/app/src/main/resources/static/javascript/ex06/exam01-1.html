<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ex06</title>
</head>
<body>
  <h1>이벤트 - 리스너 등록하기</h1>
  <button id="btn-1" onclick="var str = 'hello'; window.alert(str)">버튼1-1</button>
  <button id="btn-2" onclick="btn1Click()">버튼1-2</button>
  <button id="btn2">버튼1-3</button>
  <button id="btn3">버튼1-4</button>

  <script>
    "use stirct"

    // 이벤트(event)
    // => 사용자나 시스템에 의해 태그의 상태가 바뀌는 것을 가르킨다.
    // => 각 태그 별로 발생하는 이벤트가 정해져있다.
    // => 물론 개발자가 임의의 이벤트를 발생시킬 수 있다.
    
    // 리스너(listener) = 이벤트 핸들러(event handler)
    // => 이벤트가 발생할 때 호출되는 메서드이다.
    // => HTML 태그나 자바스크립트 코드에서 이벤트에 대해 함수를 등록해야 한다.

    // click 이벤트
    // => 사용자가 태그를 클릭할때 발생한다

    // click 이벤트에 대해 리스너를 등록하는 방법
    // 1) HTML 태그의 onclick 속성에 자바스크립트 코드를 넣는다.
    //    => 사용자가 태그를 클릭하면 이 속성의 등록된 자바스크립트 코드가 실행된다.
    //    => 이 방식은 태그 안에 자바스크립트 코드가 섞여 있기 때문에 
    //       유지보수할 때 힘들다.
    //    => HTML 태그는 태그대로, 자바스크립트 코드는 코드대로 분리되어 있어야 
    //       유지보수가 쉽다.
    //    => 태그 안에 자바스크립트 코드를 넣어야 하기 때문에 긴 코드를 넣기가 불편한다.
    //    => 현업에서 많이 사용하진 않지만 사용 방법을 알야한다.
    //
    // 2) 태그 객체의 onclick 프로퍼티에 함수를 등록한다.
    //    => 사용자가 태그를 클릭하면 onclick이라는 이름으로 등록된 함수를 호출한다.
    //    => HTML 태그와 자바스크립트 코드가 분리되어 있어서 유지보수하기 쉽다.
    //    => 이 방식은 이벤트에 대해 한 개의 리스너만 등록할 수 있다.
    //    => 현업에서 많이사용한다.(그치만 유지 보수가 쉽지 않아 비추이다.)
    // 
    // 3) 태그 객체의 addEventListener()를 이용하여 호출될 함수를 등록한다.
    //    => 사용자가 태그를 클릭하면 해당 이벤트에 등록된 함수가 호출된다.
    //    => 이 또한 HTML 태그와 자바스크립트 코드가 분리되어 있어서 유지보수에 좋다.
    //    => 특히 여러 개의 리스너를 등록할 수 있다.

    // 방법1:
    function btn1Click() {
      var str = "hello"
      window.alert(str)
    }

    // 방법2:
    var btn2 = document.querySelector('#btn2')
    // function f1() {
    //   var str = "hello2a"
    //   window.alert(str)
    //   console.log(this)
    // }
    // btn2.onclick = f1;

    // btn2.onclick = function() {
    //   var str = "hello2b"
    //   window.alert(str)
    //   console.log(this)
    // }
    btn2.onclick = () => {
      var str = "hello2c"
      window.alert(str)
      console.log(this)
    }
    // 방법2에 단점은 태그에 대해 한개의 리스너만 등록 가능하다.
    // 그래서 만약 다음에 다른 리스너를 선언하면 전에 정의된 함수는 덮어 씌여진다.


    // 방법3:
    // => addEventListener(이벤트명, 리스너);
    // => 주의! 
    //    클릭 이벤트의 이름은 "onclick"(프로퍼티이름) 이 아니라, "click"이다.
    //  =>html 에 모든 태그는 event생성자에 의해 생성된것이다.
    // 여러개의 함수를 등록할수잇다.
    var btn3 = document.querySelector('#btn3')
    function btn3Click() {
      var str = "hello3a"
      window.alert(str)
      console.log(this)
    }
    btn3.addEventListener('click', btn3Click)

    btn3.addEventListener('click', function() {
      var str = 'hello3b'
      window.alert(str)
      console.log(this)
    })

    btn3.addEventListener('click', () => {
      var str = 'hello3c'
      window.alert(str)
      console.log(this);
    })
  </script>
</body>
</html>